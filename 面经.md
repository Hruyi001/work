## 1. 双写一致性
    双写一致性：当修改了数据库的数据也要同时更新缓存的数据，缓存和数据库的数据要保持一致
    - 读请求：先读缓存，缓存没有再读数据库，然后将数据写入缓存，设置ttl
    - 写请求：延迟双删：先删除缓存，再更新数据库，再删除缓存    
    
### 问题？ 
1. 先删除缓存，还是先修改数据库
2. 为什么删除两次缓存？  
   * 第一次删除：防止脏数据，在更新数据库之前删除缓存，可以确保后续的读请求不会读到旧的缓存数据。
   * 第二次删除：可以确保即使有并发请求在数据库更新过程中读取了旧数据并写回缓存，最终缓存也会被清理，从而保证数据一致性
3. 为什么要延时删除  
   1. 数据库更新操作时间比较长，等数据库更新结束后，再删除
   2. 数据库主从同步(主从复制、读写分离）需要一段时间